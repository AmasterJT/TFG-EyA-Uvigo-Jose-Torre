@startuml 

left to right direction

skinparam defaultFontSize 20
skinparam packageFontSize 22
skinparam classFontSize 20
skinparam shadowing false
skinparam packageStyle rectangle
skinparam componentStyle rectangle

package "REST API (Spring Boot)" {

  package "Presentación" {
    class RestController <<Controller>>
    class DTO <<DTO>>
  }

  package "Negocio" {
    class Service <<Service>>
    class Entidad <<Entity>>
  }

  package "Persistencia" {
    interface JpaRepository <<Repository>>
  }

  package "Gestión de errores" {
    class ApiExceptionHandler <<ControllerAdvice>>
  }
}

' Flujo principal
RestController --> Service : invoca
Service --> JpaRepository : persiste
JpaRepository --> Entidad

' Uso de DTOs
RestController --> DTO : request / response
Service ..> DTO : mapeo

' Manejo de errores
ApiExceptionHandler ..> RestController : intercepta

@enduml