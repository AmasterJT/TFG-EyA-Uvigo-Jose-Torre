\documentclass[11pt]{article}
%\documentclass[11pt, twoside]{article}

% --- Codificación y fuentes ---
\usepackage[T1]{fontenc}
\usepackage{mathptmx}
\usepackage[spanish, es-tabla]{babel}
\usepackage{kpfonts}

% --- Paquetes generales ---
\usepackage{graphicx}
\usepackage[table,xcdraw]{xcolor}
\usepackage{xcolor}
\usepackage{array}
\usepackage{enumitem}
\usepackage{ragged2e}
\usepackage{amsmath}
\usepackage{float}
\usepackage{booktabs}
\usepackage{svg}
\usepackage{fontspec}
\usepackage{booktabs}
\usepackage{fancyvrb}
\usepackage[acronym]{glossaries}
\makeglossaries

% --- Fuentes ---
% \setmonofont[
%     Path = "fonts/FiraCode/",
%     Extension = .ttf,
%     UprightFont = *-Regular,
%     BoldFont = *-Bold,
% ]{FiraCode}
\setmonofont{FiraCode Nerd Font Mono}


% --- Márgenes y geometría ---
\usepackage{geometry}
\geometry{
  a4paper,
  inner=30mm,    % margen interior (encuadernación)
  outer=15mm,    % margen exterior
  top=25mm,
  bottom=25mm,
  headheight=45pt,
  headsep=8pt
}

\usepackage[utf8]{inputenc}

% --- Encabezado y pie de página ---
\usepackage{fancyhdr}

% --- Estilo secciones ---
\definecolor{AzulTFG}{RGB}{0, 148, 224}
\usepackage{titlesec}

% --- Interlineado entre párrafos y sangría ---
\usepackage{parskip}

% --- Captions sin negrita ---
\usepackage{caption}
\usepackage{subcaption}
\captionsetup{labelfont=normalfont}

% --- Hipervínculos ---
\usepackage[hidelinks]{hyperref}

% --- Formato índice ---
\usepackage[nottoc]{tocbibind}
% (Esta línea en tu fichero original parece pensada para gallego,
%  pero la mantengo por compatibilidad. En español no hace efecto.)
\addto\captionsgalician{\renewcommand{\contentsname}{Contenido}}
\usepackage{tocloft}

% --- Bibliografía ---
\addto\captionsspanish{%
  \renewcommand{\refname}{Bibliografía}
}

\usepackage[
  backend=biber,
  style=ieee,
  sorting=none,
  autolang=other,
  bibencoding=utf8,
  url=true,
  doi=true,
  isbn=true
]{biblatex}

\addbibresource{Bibliografia/bibliografia.bib}

% --- ANEXOS ---

\usepackage{listings}

\lstdefinelanguage{SQL}{
  keywords={CREATE, TABLE, PRIMARY, KEY, FOREIGN, REFERENCES, NOT, NULL, UNIQUE, INSERT, INTO, VALUES, ALTER, ADD, CONSTRAINT, ON, DELETE, UPDATE, VARCHAR, INT, TIMESTAMP, DEFAULT, AUTO_INCREMENT, BOOLEAN, DELIMITER, NEW, SELECT, FROM, WHERE, AND, OR, DROP, DATABASE, IF, EXISTS, SET, END, CONCAT, DATE_FORMAT, ROW, BEGIN, DECLARE, THEN, IS},
  sensitive=false,
  morecomment=[l]{--},
  morestring=[b]'
}

\lstset{
  basicstyle=\ttfamily\small,
  numbers=left,          % números a la izquierda
  numberstyle=\tiny,     % tamaño del número
  stepnumber=1,          % numerar todas las líneas
  numbersep=8pt,         % separación número-código
  xleftmargin=1.8em,
  framexleftmargin=1.8em,
  breaklines=true,
  frame=single,
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{gray},
  stringstyle=\color{green!40!black},
  columns=fullflexible,
  inputencoding=utf8,
  extendedchars=true,
  literate=
  {á}{{\'a}}1
  {é}{{\'e}}1
  {í}{{\'i}}1
  {ó}{{\'o}}1
  {ú}{{\'u}}1
  {Á}{{\'A}}1
  {É}{{\'E}}1
  {Í}{{\'I}}1
  {Ó}{{\'O}}1
  {Ú}{{\'U}}1
  {ñ}{{\~n}}1
  {Ñ}{{\~N}}1
  {-}{{\~-}}1
}


% Título de la bibliografía (equivalente a \refname)
\DefineBibliographyStrings{spanish}{%
  bibliography = {Bibliografía},
}
\newcommand{\footcitepage}[3]{%
  ``#1''\footnote{%
    \fullcite{#2}, p.~#3%
  }%
}

\newcommand{\footbibliographypage}[2]{%
  \footnote{%
    \fullcite{#1}, p.~#2%
  }%
}

\newcommand{\footwebfragment}[2]{%
  \footnote{%
    \fullcite{#1}. Fragmento: #2%
  }%
}

\newcommand{\footweb}[1]{%
  \footnote{%
    \fullcite{#1}
  }%
}


\newcommand{\footwebcite}[3]{%
  ``#1''\footnote{%
    \fullcite{#2}. Fragmento: #3%
  }%
}

\newcommand{\footcitedefinition}[3]{%
  #1\footnote{%
    \fullcite{#2}, p.~#3%
  }%
}

% --- Glosario ---
\renewcommand*{\glossaryentrynumbers}[1]{}

% --- Portada ---
\usepackage{framed}
\input{Portada/Portada}


% \pagestyle{fancy}
% \fancyhf{}

% % Página impar (derecha)
% \fancyhead[RO]{\thepage}
% \fancyhead[LO]{\nouppercase{\rightmark}}

% % Página par (izquierda)
% \fancyhead[LE]{\thepage}
% \fancyhead[RE]{\nouppercase{\leftmark}}

% \renewcommand{\headrulewidth}{0.4pt}


\newcommand{\permits}{\textcolor{green!60!black}{Sí}}
\newcommand{\denies}{\textcolor{red!70!black}{No}}

\begin{document}

% --- Portada ---
% Cambia los parámetros según tu caso
\printportada{Diseño de una aplicación informática para la gestión de un almacén sin automatización con distintas interfaces para los operarios}{Electrónica Industrial y Automática}{José Tomás Torre Pedroarena}{Joaquín lópez Fernández}{}{Memoria}

% --- Índices ---
\input{Formatos/Contenido}
\tableofcontents
\clearpage


% estilo de títulos (titlesec)
\input{Formatos/Cuerpo}

\glsaddall
\vspace{-1cm}
\input{Glosario/glosario}
\clearpage

% =========================================================
% CUERPO DEL TRABAJO (estructura solicitada)
% =========================================================



% 1 Introducción
\include{Cuerpo/01_Introduccion}

% 2 Estado del arte
\include{Cuerpo/02_Estado_del_arte}

% 3 Marco teórico y tecnológico
\include{Cuerpo/03_Marco_teorico_y_tecnologico}

% 4 Análisis del sistema
\include{Cuerpo/04_Analisis_del_sistema}

% 5 Diseño del sistema
\include{Cuerpo/05_Diseno_del_sistema}

% 6 Implementación
\include{Cuerpo/06_Implementacion}

% 7 Resultados y discusión
\include{Cuerpo/07_Resultados_y_discusion}

% 8 Conclusiones y trabajos futuros
\include{Cuerpo/08_Conclusiones_y_trabajos_futuros}

% 9 anexos
\include{Cuerpo/09_Anexos}

% =========================================================
% BIBLIOGRAFÍA
% =========================================================
\clearpage
\input{Formatos/Contenido}
\printbibliography[title={Bibliografía}]

\clearpage
\listoffigures
\clearpage
\listoftables


\end{document}
